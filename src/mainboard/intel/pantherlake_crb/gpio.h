/* SPDX-License-Identifier: GPL-2.0-or-later */

#include <soc/gpio.h>

/* GPIOs configured in bootblock */
static const struct pad_config early_gpio_table[] = {
	// eSPI: IT8659E SuperIO
	PAD_CFG_NF(GPP_A00, NONE, DEEP, NF1),	// ESPI_IO0_SIO_R
	PAD_CFG_NF(GPP_A01, NONE, DEEP, NF1),	// ESPI_IO1_SIO_R
	PAD_CFG_NF(GPP_A02, NONE, DEEP, NF1),	// ESPI_IO2_SIO_R
	PAD_CFG_NF(GPP_A03, NONE, DEEP, NF1),	// ESPI_IO3_SIO_R
	PAD_CFG_NF(GPP_A04, NONE, DEEP, NF1),	// ESPI_CS0_SIO_R_N
	PAD_CFG_NF(GPP_A05, NONE, DEEP, NF1),	// ESPI_CLK_SIO
	PAD_CFG_NF(GPP_A06, NONE, DEEP, NF1),	// ESPI_RST_SIO_R_N
	PAD_CFG_NF(GPP_B24, NONE, DEEP, NF1),	// ESPI_ALERT_SIO_R_N

	// LPSS UART0: USB TTL bridge
	PAD_CFG_NF(GPP_H08, NONE, DEEP, NF1),	// RXD
	PAD_CFG_NF(GPP_H09, NONE, DEEP, NF1),	// TXD
	PAD_CFG_NF(GPP_H10, NONE, DEEP, NF1),	// RTS
	PAD_CFG_NF(GPP_H11, NONE, DEEP, NF1),	// CTS

	// LPSS UART1: J17 header
	PAD_CFG_NF(GPP_H14, NONE, DEEP, NF2),	// TXD
	PAD_CFG_NF(GPP_H15, NONE, DEEP, NF2),	// RXD

	// LPSS UART2: J7 header
	PAD_CFG_NF(GPP_F00, NONE, DEEP, NF2),	// RTS
	PAD_CFG_NF(GPP_F01, NONE, DEEP, NF2),	// RXD
	PAD_CFG_NF(GPP_F02, NONE, DEEP, NF2),	// TXD
	PAD_CFG_NF(GPP_F03, NONE, DEEP, NF2),	// CTS

};

/* GPIOs configured in romstage */
static const struct pad_config main_gpio_table[] = {
	/* GPIO Community A */
	PAD_CFG_GPO(GPP_A08, 1, PLTRST),	// X1_PCIE_SLOT_PWR_EN
	PAD_CFG_GPO(GPP_A09, 0, DEEP),		// M.2_WWAN_FCP_OFF_N
	PAD_CFG_GPO(GPP_A10, 0, DEEP),		// M.2_WWAN_DISABLE_N
	PAD_CFG_GPO(GPP_A11, 1, PLTRST),	// WLAN_RST_N
	PAD_CFG_GPI_SCI_LOW(GPP_A12, NONE, DEEP, LEVEL),	// WLAN_WAKE_N
	PAD_CFG_NF(GPP_A13, NONE, PLTRST, NF1), // WWAN_DPR
	PAD_CFG_NF(GPP_A15, NONE, DEEP, NF1),	// DNX_FORCE_RELOAD
	PAD_CFG_GPO(GPP_A16, 1, DEEP),		// BT_RF_KILL_N
	PAD_CFG_GPO(GPP_A17, 1, DEEP),		// WIFI_RF_KILL_N

	/* GPIO Community B */
	PAD_CFG_NF(GPP_B00, NONE, DEEP, NF1),	// USB-C SMLCLK
	PAD_CFG_NF(GPP_B01, NONE, DEEP, NF1),	// USB-C SMLDATA
	PAD_CFG_NF(GPP_B02, NONE, DEEP, NF3),	// CAM1_ISH_I2C_SDA
	PAD_CFG_NF(GPP_B03, NONE, DEEP, NF3),	// CAM1_ISH_I2C_SCL
	PAD_CFG_GPO(GPP_B04, 0, DEEP),		// VBY1_BKLTCTRL_3P3V
	PAD_CFG_GPO(GPP_B05, 0, DEEP),		// VBY1_GPIO2_3P3V
	PAD_CFG_GPO(GPP_B06, 0, DEEP),		// VBY1_GPIO1_3P3V
	PAD_CFG_NF(GPP_B07, NONE, DEEP, NF4),	// ALC722 PCBEEP
	PAD_CFG_GPO(GPP_B08, 0, DEEP),		// VBY1_GPIO0_3P3V
	PAD_CFG_GPO(GPP_B09, 1, PLTRST),	// M2_GEN4_SSD_RESET_N
	PAD_CFG_GPO(GPP_B10, 0, PLTRST),	// M2_GEN4_SSD_PWR_DIS
	PAD_CFG_NF(GPP_B11, NONE, DEEP, NF2),	// MOD_TCSS1_DISP_HPD3
	PAD_CFG_NF(GPP_B12, NONE, DEEP, NF1),	// PM_SLP_S0_N
	PAD_CFG_NF(GPP_B13, NONE, DEEP, NF1),	// PLT_RST_N
	PAD_CFG_NF(GPP_B14, NONE, DEEP, NF2),	// MOD_TCSS2_DISP_HPD4
	PAD_CFG_NF(GPP_B15, NONE, DEEP, NF1),	// MOD_TCSS1_USB_TYP_A_OC3_N
	PAD_CFG_GPO(GPP_B16, 0, PLTRST),	// X4_PCIE_SLOT_PWR_EN_N
	PAD_NC(GPP_B17, NONE),			// N/C
	PAD_CFG_NF(GPP_B18, NONE, DEEP, NF2),	// DDIA_RDVR_I2C_DATA
	PAD_CFG_NF(GPP_B19, NONE, DEEP, NF2),	// DDIA_RDVR_I2C_CLK
	PAD_CFG_GPO(GPP_B20, 1, PLTRST),	// M.2_WWAN_RST_BUF_N
	PAD_CFG_GPO(GPP_B21, 0, DEEP),		// TCP_RETIMER_FORCE_PWR
	PAD_CFG_GPO(GPP_B22, 0, PLTRST),	// TIME_SYNC0
	PAD_CFG_GPO(GPP_B23, 0, PLTRST),	// TIME_SYNC1
	// B24 configured in bootblock
	PAD_CFG_GPI_SCI_LOW(GPP_B25, NONE, DEEP, LEVEL),	// X1_SLOT_LAN_WAKE_N

	/* GPIO Community C */
	PAD_CFG_NF(GPP_C00, NONE, DEEP, NF1),	// DRAM_HSCL_1P0
	PAD_CFG_NF(GPP_C01, NONE, DEEP, NF1),	// DRAM_HSDA_1P0
	PAD_CFG_GPI_SCI_LOW(GPP_C02, NONE, DEEP, LEVEL),	// PCA9555_0_INT_N
	PAD_CFG_NF(GPP_C03, NONE, DEEP, NF1),	// SML0_SCL_LAN_PCIE
	PAD_CFG_NF(GPP_C04, NONE, DEEP, NF1),	// SML0_SDA_LAN_PCIE
	PAD_CFG_GPO(GPP_C05, 0, DEEP),		// CRD1_PWREN
	PAD_NC(GPP_C06, NONE),			// N/C
	PAD_NC(GPP_C07, NONE),			// N/C
	PAD_CFG_GPO(GPP_C08, 0, DEEP),		// CRD2_PWREN

	/* Source Clock Requests */
	PAD_CFG_NF(GPP_C09, NONE, DEEP, NF1),	// SRCCLKREQ0: X8_GEN5_DT_CEM_SLOT_FOR_DGFX
	PAD_CFG_NF(GPP_C10, NONE, DEEP, NF1),	// SRCCLKREQ1: X4_GEN5_DT_CEM_SLOT
	PAD_CFG_NF(GPP_C11, NONE, DEEP, NF1),	// SRCCLKREQ2: X1_GEN4_DT_CEM_SLOT
	PAD_CFG_NF(GPP_C12, NONE, DEEP, NF1),	// SRCCLKREQ3: I226_LAN
	PAD_CFG_NF(GPP_C13, NONE, DEEP, NF1),	// SRCCLKREQ4: M.2_WLAN_KEY-E
	PAD_CFG_NF(GPP_C14, NONE, DEEP, NF1),	// SRCCLKREQ5: M.2_WWAN_KEY-B
	PAD_CFG_NF(GPP_D18, NONE, DEEP, NF1),	// SRCCLKREQ6: X4_GEN4_M.2_SSD_KEY-M
	PAD_CFG_NF(GPP_D20, NONE, DEEP, NF1),	// SRCCLKREQ7: N/C, exposed on RFSH
	PAD_CFG_NF(GPP_D21, NONE, DEEP, NF1),	// SRCCLKREQ8: N/C, exposed on RFSH

	PAD_CFG_GPO(GPP_C15, 1, PLTRST),	// CAM1_CLK_EN

	/* Thunderbolt/USB-C Display Data Channels */
	PAD_CFG_NF(GPP_C16, NONE, DEEP, NF1),	// TBT_LSX0_TXD
	PAD_CFG_NF(GPP_C17, NONE, DEEP, NF1),	// TBT_LSX0_RXD
	PAD_CFG_NF(GPP_C18, NONE, DEEP, NF1),	// TBT_LSX1_TXD
	PAD_CFG_NF(GPP_C19, NONE, DEEP, NF1),	// TBT_LSX1_RXD
	PAD_CFG_NF(GPP_C20, NONE, DEEP, NF1),	// MOD_TCSS1_LS_TX_DDC_SCL
	PAD_CFG_NF(GPP_C21, NONE, DEEP, NF1),	// MOD_TCSS1_LS_RX_DDC_SDA
	PAD_CFG_NF(GPP_C22, NONE, DEEP, NF2),	// MOD_TCSS2_LS_TX_DDC_SCL
	PAD_CFG_NF(GPP_C23, NONE, DEEP, NF2),	// MOD_TCSS2_LS_RX_DDC_SDA

	/* GPIO Community D */
	PAD_CFG_NF(GPP_D00, NONE, DEEP, NF1),	// IMGCLKOUT_1
	PAD_CFG_GPO(GPP_D01, 1, DEEP),		// MOD_TCSS1_TYP_A_VBUS_EN
	PAD_CFG_GPO(GPP_D02, 1, DEEP),		// VBY1_BKLTEN_3P3V
	PAD_CFG_GPO(GPP_D03, 1, PLTRST),	// M.2_WWAN_PERST_GPIO_N
	PAD_CFG_NF(GPP_D04, NONE, DEEP, NF1),	// IMGCLKOUT_0
	PAD_NC(GPP_D05, NONE),			// Unknown, exposed on RFSH
	PAD_NC(GPP_D06, NONE),			// Unknown, exposed on RFSH
	PAD_NC(GPP_D07, NONE),			// N/C
	PAD_NC(GPP_D08, NONE),			// N/C
	PAD_CFG_GPO(GPP_D09, 1, PLTRST),	// PEG_SLOT_RST_N
	PAD_CFG_NF(GPP_D10, NONE, DEEP, NF1),	// HDA_BCLK_I2S0_SCLK_HDR
	PAD_CFG_NF(GPP_D11, NONE, DEEP, NF1),	// HDA_SYNC_I2S0_SFRM_HDR
	PAD_CFG_NF(GPP_D12, NONE, DEEP, NF1),	// HDA_SDO_I2S0_TXD_HDR
	PAD_CFG_NF(GPP_D13, NONE, DEEP, NF1),	// HDA_SDI0_I2S0_RXD_HDR
	PAD_CFG_GPI_TRIG_OWN(GPP_D14, NONE, PLTRST, LEVEL, ACPI),		// COINLESS_MODE_SELECT
	PAD_CFG_GPI_APIC_LOCK(GPP_D15, NONE, LEVEL, INVERT, LOCK_CONFIG),	// SPI_TPM_INT_N
	PAD_CFG_NF(GPP_D16, NONE, DEEP, NF1),	// HDA_RST_N_HDR
	PAD_CFG_NF(GPP_D17, NONE, DEEP, NF1),	// HDA_SDI1_HDR
	PAD_CFG_GPO(GPP_D19, 1, PLTRST),	// X1_DT_PCIE_RST_N
	PAD_CFG_NF(GPP_D22, NONE, DEEP, NF1),	// PD_TCP1_DBG_I3C_SDA
	PAD_CFG_NF(GPP_D23, NONE, DEEP, NF1),	// PD_TCP1_DBG_I3C_SCL
	PAD_CFG_GPI_SCI_LOW(GPP_D24, NONE, DEEP, LEVEL),	// PEG_SLOT_WAKE_N
	PAD_CFG_GPI_SCI_LOW(GPP_D25, NONE, DEEP, LEVEL),	// X4_SLOT_WAKE_N

	/* GPIO Community E */
	PAD_CFG_GPO(GPP_E01, 0, PLTRST),	// CRD2_RST_N
	PAD_NC(GPP_E02, NONE),			// N/C
	PAD_CFG_GPO(GPP_E03, 1, PLTRST),	// X4_DT_PCIE_RST_N
	PAD_CFG_GPI_SCI_LOW(GPP_E05, NONE, DEEP, LEVEL),		// VBY1_INT_3P3V_N
	PAD_CFG_GPI_TRIG_OWN(GPP_E06, NONE, PLTRST, LEVEL, ACPI),	// SECURE_CAM_SW
	PAD_CFG_NF(GPP_E07, NONE, DEEP, NF1),	// DDPA_DDIA_CTRLCLK_R
	PAD_CFG_NF(GPP_E08, NONE, DEEP, NF1),	// DDPA_DDIA_CTRLDATA_R
	PAD_CFG_NF(GPP_E09, NONE, DEEP, NF1),	// USB32_TYPEA_CONN1_OC0_N
	PAD_CFG_GPO(GPP_E10, 0, PLTRST),	// CAM1_RST_N
	PAD_NC(GPP_E11, NONE),			// GSPI0_CLK: N/C, exposed on RFSH
	PAD_NC(GPP_E12, NONE),			// GSPI0_MOSI: N/C, exposed on RFSH
	PAD_NC(GPP_E13, NONE),			// GSPI0_MISO: N/C, exposed on RFSH
	PAD_CFG_NF(GPP_E14, NONE, DEEP, NF3),	// PD_ALERT_N
	PAD_NC(GPP_E15, NONE),			// N/C
	PAD_CFG_GPI_SCI_LOW(GPP_E16, NONE, DEEP, LEVEL),		// DEV_MODE_ID
	PAD_NC(GPP_E17, NONE),			// GSPI0_CS0: N/C, exposed on RFSH
	PAD_NC(GPP_E18, NONE),			// N/C, TP1506
	PAD_NC(GPP_E19, NONE),			// X8_PEG_SEL_PROCHOT_N
	PAD_NC(GPP_E20, NONE),			// X8_PEG_DGPU_PWR_OK_3P3
	PAD_CFG_NF(GPP_E21, NONE, DEEP, NF1),	// PMC_ALERT_N
	PAD_NC(GPP_E22, NONE),			// N/C

	/* GPIO Community F */
	PAD_CFG_NF_IOSTANDBY_IGNORE(GPP_F04, NONE, DEEP, NF1),	// CNV_RF_RESET_R_N
	PAD_CFG_NF_IOSTANDBY_IGNORE(GPP_F05, NONE, DEEP, NF3),	// CRF_CLKREQ_R

	PAD_NC(GPP_F06, NONE),			// N/C
	PAD_CFG_NF(GPP_F07, NONE, DEEP, NF2),	// IMGCLKOUT_2
	PAD_CFG_GPO(GPP_F08, 0, PLTRST),	// N/C, but exposed on FUSA and J25
	PAD_CFG_NF(GPP_F09, NONE, DEEP, NF4),	// ISH_INT_GP11_CVS_+V12S_CRD1
	PAD_CFG_GPO(GPP_F10, 0, PLTRST),	// PEG_SLOT_PWR_EN_N
	PAD_CFG_GPO(GPP_F11, 1, DEEP),		// MOD_TCSS2_TYP_A_VBUS_EN
	PAD_CFG_GPI_TRIG_OWN(GPP_F12, NONE, PLTRST, LEVEL, ACPI),	// MOD_TCSS2_DETECT
	PAD_CFG_GPI_TRIG_OWN(GPP_F13, NONE, PLTRST, LEVEL, ACPI),	// MOD_TCSS2_DETECT_R
	PAD_NC(GPP_F14, NONE),			// N/C
	PAD_NC(GPP_F15, NONE),			// N/C
	PAD_NC(GPP_F16, NONE),			// N/C
	PAD_CFG_GPI(GPP_F17, NONE, DEEP),	// CODEC_IRQ_HDR
	PAD_NC(GPP_F18, NONE),			// N/C
	PAD_CFG_GPO(GPP_F19, 0, PLTRST),	// PRIVACY_LED_CAM2
	PAD_CFG_GPO(GPP_F20, 0, PLTRST),	// PRIVACY_LED_CAM1_CVS_HST_WAKE
	PAD_CFG_GPO(GPP_F22, 1, PLTRST),	// MOD_TCSS1/2_SX_CNTRL_R
	PAD_CFG_GPI_SCI_LOW(GPP_F23, NONE, DEEP, LEVEL),		// M.2_WWAN_WAKE

	/* GPIO Community H */
	PAD_CFG_GPO(GPP_H00, 0, PLTRST),	// CAM2_CLK_EN
	PAD_CFG_GPO(GPP_H01, 0, PLTRST),	// CAM2_FLSH_STROBE
	PAD_CFG_GPO(GPP_H02, 0, PLTRST),	// DNX_IN_PROG_LED_R
	PAD_CFG_NF(GPP_H03, NONE, DEEP, NF1),	// MIC_MUTE
	PAD_CFG_NF(GPP_H04, NONE, DEEP, NF1),	// I2C2_SDA_CAM_FLSH
	PAD_CFG_NF(GPP_H05, NONE, DEEP, NF1),	// I2C2_SCL_CAM_FLSH
	PAD_CFG_NF(GPP_H06, NONE, DEEP, NF1),	// I2C3_SDA_AUDIO_HDR
	PAD_CFG_NF(GPP_H07, NONE, DEEP, NF1),	// I2C3_SCL_AUDIO_HDR

	/* GPP_H08, H09, H10 and H11 are configured in bootblock for early UART0 bringup
	 * GPP_H14 and H15 are configured in bootblock for early UART1 bringup */

	PAD_CFG_NF(GPP_H13, NONE, DEEP, NF1),	// CPU_C10_GATE_N
	PAD_NC(GPP_H16, NONE),			// N/C
	PAD_CFG_NF(GPP_H17, NONE, DEEP, NF1),	// MIC_MUTE_LED
	PAD_CFG_NF(GPP_H19, NONE, DEEP, NF1),	// I2C0_SDA_PORT80_DISP_R
	PAD_CFG_NF(GPP_H20, NONE, DEEP, NF1),	// I2C0_SCL_PORT80_DISP_R
	PAD_NC(GPP_H21, NONE),			// N/C
	PAD_NC(GPP_H22, NONE),			// N/C

	/* GPIO Community S (SoundWire) */
	PAD_CFG_NF(GPP_S00, NONE, DEEP, NF1),	// SNDW3_CLK_CODEC
	PAD_CFG_NF(GPP_S01, NONE, DEEP, NF1),	// SNDW3_DATA0_CODEC
	PAD_CFG_NF(GPP_S02, NONE, DEEP, NF1),	// SNDW3_DATA1_CODEC
	PAD_CFG_NF(GPP_S03, NONE, DEEP, NF1),	// SNDW3_DATA2_CODEC
	PAD_CFG_NF(GPP_S04, NONE, DEEP, NF2),	// SNDW2_CLK_DMIC_CLK_A
	PAD_CFG_NF(GPP_S05, NONE, DEEP, NF2),	// SNDW2_DATA0
	PAD_CFG_NF(GPP_S06, NONE, DEEP, NF3),	// SNDW1_CLK_DMIC1
	PAD_CFG_NF(GPP_S07, NONE, DEEP, NF3),	// SNDW1_DATA0_DMIC1

	/* GPIO Community V */
	PAD_CFG_NF(GPP_V00, NONE, DEEP, NF1),	// BATLOW_N
	PAD_CFG_NF(GPP_V01, NONE, DEEP, NF1),	// AC_PRESENT
	PAD_CFG_NF(GPP_V02, NONE, DEEP, NF1),	// LANWAKE_N
	PAD_CFG_NF(GPP_V03, NONE, DEEP, NF1),	// PM_PWRBTN_N
	PAD_CFG_NF(GPP_V04, NONE, DEEP, NF1),	// PM_SLP_S3_N
	PAD_CFG_NF(GPP_V05, NONE, DEEP, NF1),	// PM_SLP_S4_N
	PAD_CFG_NF(GPP_V06, NONE, DEEP, NF1),	// PM_SLP_A_N
	PAD_NC(GPP_V07, NONE),			// N/C
	PAD_CFG_NF(GPP_V08, NONE, DEEP, NF1),	// SLP_WLAN_N
	PAD_CFG_NF(GPP_V09, NONE, DEEP, NF1),	// PM_SLP_S5_N
	PAD_CFG_NF(GPP_V10, NONE, DEEP, NF1),	// LAN_PHY_PC
	PAD_CFG_NF(GPP_V11, NONE, DEEP, NF1),	// LAN_SW_EN
	PAD_CFG_NF(GPP_V12, NONE, DEEP, NF1),	// WAKE_N
	PAD_CFG_NF(GPP_V13, NONE, DEEP, NF1),	// H_CATERR_N
	PAD_CFG_NF(GPP_V14, NONE, DEEP, NF1),	// FORCE_PROCHOT
	PAD_CFG_NF(GPP_V15, NONE, DEEP, NF1),	// THERMTRIP_N
	PAD_CFG_NF(GPP_V16, NONE, DEEP, NF1),	// VCCST_EN_R
	PAD_CFG_GPO(GPP_V17, 1, DEEP),		// MOD_TCSS1_RT_S0IX_ENTRY_EXIT_N
};
